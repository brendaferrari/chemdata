import{_ as g}from"./Dzcel8cH.js";import{u as f}from"./DhdDH6eV.js";import{q as h}from"./_SnTnXWR.js";import{_ as x,x as b,i as v,k,a,o as p,c,s as w,b as Y,w as A,n as C,t as d,u as _,F as N}from"./9IfyuFUz.js";import"./DvDH6DOc.js";import"./D2b8tXOf.js";const q={class:"not-prose font-mono"},B={__name:"blog-posts",props:{limit:{type:Number,default:null}},async setup(m){let o,n;const i=m,{data:u}=([o,n]=b(()=>f("blog-list",()=>{const e=h("/blog").where({_path:{$ne:"/blog"}}).only(["_path","title","publishedAt"]).sort({publishedAt:-1});return i.limit&&e.limit(i.limit),e.find()})),o=await o,n(),o),l=v(()=>{if(!u.value)return[];const e=[];let s=null;for(const r of u.value){const t=new Date(r.publishedAt).getFullYear(),y=t!==s;r.displayYear=y,r.year=t,e.push(r),s=t}return e});return console.log(l),(e,s)=>{const r=g;return k(e.$slots,"default",{posts:_(l)},()=>[a("section",q,[s[0]||(s[0]=a("div",{class:"column text-gray-400 text-sm"},[a("div",null,"date"),a("div",null,"title")],-1)),a("ul",null,[(p(!0),c(N,null,w(_(l),t=>(p(),c("li",{key:t._path},[Y(r,{to:t._path,class:"column group hover:bg-gray-100 dark:hover:bg-gray-800"},{default:A(()=>[a("div",{class:C({"text-white group-hover:text-gray-100 dark:text-gray-900  dark:group-hover:text-gray-800":!t.displayYear,"text-gray400 dark:text-gray-500":t.displayYear})},d(t.year),3),a("div",null,d(t.title),1)]),_:2},1032,["to"])]))),128))])])],!0)}}},z=x(B,[["__scopeId","data-v-40e3560b"]]);export{z as default};
