[{"data":1,"prerenderedAt":535},["ShallowReactive",2],{"content-query-L81hBTt1bN":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"layout":10,"publishedAt":11,"tags":12,"toc":16,"body":17,"_type":530,"_id":531,"_source":532,"_file":533,"_extension":534},"/blog/2024/2024-08-08-note-on-graphein","2024",false,"","Note about Graphein","So, I had to build a visualisation of the graph representation of a protein and a nanocluster and I stumbed upon the Graphein package.","post","2024-08-08 13:30 +0800",[13,14,15],"pymol","jupyter notebook","chemistry",true,{"type":18,"children":19,"toc":526},"root",[20,29,46,51,56,63,77,219,224,331,337,351,434,439,510,515,520],{"type":21,"tag":22,"props":23,"children":25},"element","h1",{"id":24},"modifying-parameters-on-graphein",[26],{"type":27,"value":28},"text","Modifying parameters on Graphein",{"type":21,"tag":30,"props":31,"children":32},"p",{},[33,35,44],{"type":27,"value":34},"So, I had to build a visualisation of the graph representation of a protein and a nanocluster and I stumbed upon the ",{"type":21,"tag":36,"props":37,"children":41},"a",{"href":38,"rel":39},"https://graphein.ai/",[40],"nofollow",[42],{"type":27,"value":43},"Graphein package",{"type":27,"value":45},".",{"type":21,"tag":30,"props":47,"children":48},{},[49],{"type":27,"value":50},"I have to say it is a great package for this purpose. You can build and visualize protein, molecules, RNA graphs, PPI and Gene Regulatory Networks. The visualisation os the graphs are made with plotly so, they are interactive. This is a really nice feature to working with so complex information, such as graph representations.",{"type":21,"tag":30,"props":52,"children":53},{},[54],{"type":27,"value":55},"Well, I needed to change some parameters to make the representation that I wanted but I could not find a way to do it without changing the source code. So, I am going to show in this blog post what I wanted to do and how I solved this situation.",{"type":21,"tag":57,"props":58,"children":60},"h2",{"id":59},"how-to-select-which-types-of-edges-my-representation-is-going-to-show",[61],{"type":27,"value":62},"How to select which types of edges my representation is going to show?",{"type":21,"tag":30,"props":64,"children":65},{},[66,68,75],{"type":27,"value":67},"So, I wanted my representation to be less cluttered with information, so I wanted to delete some of the edges shown on the representation. For that I went to the file ",{"type":21,"tag":36,"props":69,"children":72},{"href":70,"rel":71},"https://github.com/a-r-j/graphein/blob/master/graphein/molecule/config.py",[40],[73],{"type":27,"value":74},"config.py",{"type":27,"value":76}," line 75:",{"type":21,"tag":78,"props":79,"children":83},"pre",{"className":80,"code":81,"language":82,"meta":7,"style":7},"language-python shiki shiki-themes min-light min-dark","    edge_construction_functions: List[Union[Callable, str]] = [\n        add_fully_connected_edges,\n        add_k_nn_edges,\n        add_distance_threshold,\n        add_atom_bonds,\n    ]\n","python",[84],{"type":21,"tag":85,"props":86,"children":87},"code",{"__ignoreMap":7},[88,157,171,184,197,210],{"type":21,"tag":89,"props":90,"children":93},"span",{"class":91,"line":92},"line",1,[94,100,106,111,116,121,125,130,135,141,146,152],{"type":21,"tag":89,"props":95,"children":97},{"style":96},"--shiki-default:#24292EFF;--shiki-dark:#B392F0",[98],{"type":27,"value":99},"    edge_construction_functions",{"type":21,"tag":89,"props":101,"children":103},{"style":102},"--shiki-default:#212121;--shiki-dark:#BBBBBB",[104],{"type":27,"value":105},":",{"type":21,"tag":89,"props":107,"children":108},{"style":96},[109],{"type":27,"value":110}," List",{"type":21,"tag":89,"props":112,"children":113},{"style":102},[114],{"type":27,"value":115},"[",{"type":21,"tag":89,"props":117,"children":118},{"style":96},[119],{"type":27,"value":120},"Union",{"type":21,"tag":89,"props":122,"children":123},{"style":102},[124],{"type":27,"value":115},{"type":21,"tag":89,"props":126,"children":127},{"style":96},[128],{"type":27,"value":129},"Callable",{"type":21,"tag":89,"props":131,"children":132},{"style":102},[133],{"type":27,"value":134},",",{"type":21,"tag":89,"props":136,"children":138},{"style":137},"--shiki-default:#1976D2;--shiki-dark:#79B8FF",[139],{"type":27,"value":140}," str",{"type":21,"tag":89,"props":142,"children":143},{"style":102},[144],{"type":27,"value":145},"]]",{"type":21,"tag":89,"props":147,"children":149},{"style":148},"--shiki-default:#D32F2F;--shiki-dark:#F97583",[150],{"type":27,"value":151}," =",{"type":21,"tag":89,"props":153,"children":154},{"style":96},[155],{"type":27,"value":156}," [\n",{"type":21,"tag":89,"props":158,"children":160},{"class":91,"line":159},2,[161,166],{"type":21,"tag":89,"props":162,"children":163},{"style":96},[164],{"type":27,"value":165},"        add_fully_connected_edges",{"type":21,"tag":89,"props":167,"children":168},{"style":102},[169],{"type":27,"value":170},",\n",{"type":21,"tag":89,"props":172,"children":174},{"class":91,"line":173},3,[175,180],{"type":21,"tag":89,"props":176,"children":177},{"style":96},[178],{"type":27,"value":179},"        add_k_nn_edges",{"type":21,"tag":89,"props":181,"children":182},{"style":102},[183],{"type":27,"value":170},{"type":21,"tag":89,"props":185,"children":187},{"class":91,"line":186},4,[188,193],{"type":21,"tag":89,"props":189,"children":190},{"style":96},[191],{"type":27,"value":192},"        add_distance_threshold",{"type":21,"tag":89,"props":194,"children":195},{"style":102},[196],{"type":27,"value":170},{"type":21,"tag":89,"props":198,"children":200},{"class":91,"line":199},5,[201,206],{"type":21,"tag":89,"props":202,"children":203},{"style":96},[204],{"type":27,"value":205},"        add_atom_bonds",{"type":21,"tag":89,"props":207,"children":208},{"style":102},[209],{"type":27,"value":170},{"type":21,"tag":89,"props":211,"children":213},{"class":91,"line":212},6,[214],{"type":21,"tag":89,"props":215,"children":216},{"style":96},[217],{"type":27,"value":218},"    ]\n",{"type":21,"tag":30,"props":220,"children":221},{},[222],{"type":27,"value":223},"and by commeting one of the construction functions, my graph looked much better for the illustration I wanted to create.",{"type":21,"tag":78,"props":225,"children":227},{"className":80,"code":226,"language":82,"meta":7,"style":7},"    edge_construction_functions: List[Union[Callable, str]] = [\n        #add_fully_connected_edges,\n        add_k_nn_edges,\n        add_distance_threshold,\n        add_atom_bonds,\n    ]\n",[228],{"type":21,"tag":85,"props":229,"children":230},{"__ignoreMap":7},[231,282,291,302,313,324],{"type":21,"tag":89,"props":232,"children":233},{"class":91,"line":92},[234,238,242,246,250,254,258,262,266,270,274,278],{"type":21,"tag":89,"props":235,"children":236},{"style":96},[237],{"type":27,"value":99},{"type":21,"tag":89,"props":239,"children":240},{"style":102},[241],{"type":27,"value":105},{"type":21,"tag":89,"props":243,"children":244},{"style":96},[245],{"type":27,"value":110},{"type":21,"tag":89,"props":247,"children":248},{"style":102},[249],{"type":27,"value":115},{"type":21,"tag":89,"props":251,"children":252},{"style":96},[253],{"type":27,"value":120},{"type":21,"tag":89,"props":255,"children":256},{"style":102},[257],{"type":27,"value":115},{"type":21,"tag":89,"props":259,"children":260},{"style":96},[261],{"type":27,"value":129},{"type":21,"tag":89,"props":263,"children":264},{"style":102},[265],{"type":27,"value":134},{"type":21,"tag":89,"props":267,"children":268},{"style":137},[269],{"type":27,"value":140},{"type":21,"tag":89,"props":271,"children":272},{"style":102},[273],{"type":27,"value":145},{"type":21,"tag":89,"props":275,"children":276},{"style":148},[277],{"type":27,"value":151},{"type":21,"tag":89,"props":279,"children":280},{"style":96},[281],{"type":27,"value":156},{"type":21,"tag":89,"props":283,"children":284},{"class":91,"line":159},[285],{"type":21,"tag":89,"props":286,"children":288},{"style":287},"--shiki-default:#C2C3C5;--shiki-dark:#6B737C",[289],{"type":27,"value":290},"        #add_fully_connected_edges,\n",{"type":21,"tag":89,"props":292,"children":293},{"class":91,"line":173},[294,298],{"type":21,"tag":89,"props":295,"children":296},{"style":96},[297],{"type":27,"value":179},{"type":21,"tag":89,"props":299,"children":300},{"style":102},[301],{"type":27,"value":170},{"type":21,"tag":89,"props":303,"children":304},{"class":91,"line":186},[305,309],{"type":21,"tag":89,"props":306,"children":307},{"style":96},[308],{"type":27,"value":192},{"type":21,"tag":89,"props":310,"children":311},{"style":102},[312],{"type":27,"value":170},{"type":21,"tag":89,"props":314,"children":315},{"class":91,"line":199},[316,320],{"type":21,"tag":89,"props":317,"children":318},{"style":96},[319],{"type":27,"value":205},{"type":21,"tag":89,"props":321,"children":322},{"style":102},[323],{"type":27,"value":170},{"type":21,"tag":89,"props":325,"children":326},{"class":91,"line":212},[327],{"type":21,"tag":89,"props":328,"children":329},{"style":96},[330],{"type":27,"value":218},{"type":21,"tag":57,"props":332,"children":334},{"id":333},"how-to-decrease-the-distance-threshold-of-the-interactions",[335],{"type":27,"value":336},"How to decrease the distance threshold of the interactions?",{"type":21,"tag":30,"props":338,"children":339},{},[340,342,349],{"type":27,"value":341},"I also wanted to reduce the distance that some of the interactions would be accounted. So I went to the file ",{"type":21,"tag":36,"props":343,"children":346},{"href":344,"rel":345},"https://github.com/a-r-j/graphein/blob/master/graphein/molecule/edges/distance.py",[40],[347],{"type":27,"value":348},"distance.py",{"type":27,"value":350}," line 50:",{"type":21,"tag":78,"props":352,"children":354},{"className":80,"code":353,"language":82,"meta":7,"style":7},"def add_distance_threshold(G: nx.Graph, threshold: float = 5.0):\n",[355],{"type":21,"tag":85,"props":356,"children":357},{"__ignoreMap":7},[358],{"type":21,"tag":89,"props":359,"children":360},{"class":91,"line":92},[361,366,372,377,383,387,392,396,401,405,410,414,419,423,429],{"type":21,"tag":89,"props":362,"children":363},{"style":148},[364],{"type":27,"value":365},"def",{"type":21,"tag":89,"props":367,"children":369},{"style":368},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[370],{"type":27,"value":371}," add_distance_threshold",{"type":21,"tag":89,"props":373,"children":374},{"style":96},[375],{"type":27,"value":376},"(",{"type":21,"tag":89,"props":378,"children":380},{"style":379},"--shiki-default:#FF9800;--shiki-dark:#FF9800",[381],{"type":27,"value":382},"G",{"type":21,"tag":89,"props":384,"children":385},{"style":102},[386],{"type":27,"value":105},{"type":21,"tag":89,"props":388,"children":389},{"style":96},[390],{"type":27,"value":391}," nx",{"type":21,"tag":89,"props":393,"children":394},{"style":102},[395],{"type":27,"value":45},{"type":21,"tag":89,"props":397,"children":398},{"style":96},[399],{"type":27,"value":400},"Graph",{"type":21,"tag":89,"props":402,"children":403},{"style":102},[404],{"type":27,"value":134},{"type":21,"tag":89,"props":406,"children":407},{"style":379},[408],{"type":27,"value":409}," threshold",{"type":21,"tag":89,"props":411,"children":412},{"style":102},[413],{"type":27,"value":105},{"type":21,"tag":89,"props":415,"children":416},{"style":137},[417],{"type":27,"value":418}," float",{"type":21,"tag":89,"props":420,"children":421},{"style":148},[422],{"type":27,"value":151},{"type":21,"tag":89,"props":424,"children":426},{"style":425},"--shiki-default:#1976D2;--shiki-dark:#F8F8F8",[427],{"type":27,"value":428}," 5.0",{"type":21,"tag":89,"props":430,"children":431},{"style":96},[432],{"type":27,"value":433},"):\n",{"type":21,"tag":30,"props":435,"children":436},{},[437],{"type":27,"value":438},"and changed the threshold argument:",{"type":21,"tag":78,"props":440,"children":442},{"className":80,"code":441,"language":82,"meta":7,"style":7},"def add_distance_threshold(G: nx.Graph, threshold: float = 3.0):\n",[443],{"type":21,"tag":85,"props":444,"children":445},{"__ignoreMap":7},[446],{"type":21,"tag":89,"props":447,"children":448},{"class":91,"line":92},[449,453,457,461,465,469,473,477,481,485,489,493,497,501,506],{"type":21,"tag":89,"props":450,"children":451},{"style":148},[452],{"type":27,"value":365},{"type":21,"tag":89,"props":454,"children":455},{"style":368},[456],{"type":27,"value":371},{"type":21,"tag":89,"props":458,"children":459},{"style":96},[460],{"type":27,"value":376},{"type":21,"tag":89,"props":462,"children":463},{"style":379},[464],{"type":27,"value":382},{"type":21,"tag":89,"props":466,"children":467},{"style":102},[468],{"type":27,"value":105},{"type":21,"tag":89,"props":470,"children":471},{"style":96},[472],{"type":27,"value":391},{"type":21,"tag":89,"props":474,"children":475},{"style":102},[476],{"type":27,"value":45},{"type":21,"tag":89,"props":478,"children":479},{"style":96},[480],{"type":27,"value":400},{"type":21,"tag":89,"props":482,"children":483},{"style":102},[484],{"type":27,"value":134},{"type":21,"tag":89,"props":486,"children":487},{"style":379},[488],{"type":27,"value":409},{"type":21,"tag":89,"props":490,"children":491},{"style":102},[492],{"type":27,"value":105},{"type":21,"tag":89,"props":494,"children":495},{"style":137},[496],{"type":27,"value":418},{"type":21,"tag":89,"props":498,"children":499},{"style":148},[500],{"type":27,"value":151},{"type":21,"tag":89,"props":502,"children":503},{"style":425},[504],{"type":27,"value":505}," 3.0",{"type":21,"tag":89,"props":507,"children":508},{"style":96},[509],{"type":27,"value":433},{"type":21,"tag":30,"props":511,"children":512},{},[513],{"type":27,"value":514},"I could open an issue to ask the developers to add this functionality, and I will think about it. But, as many of us know, it is sometimes hard to keep up with all the requests, so I will show how I did it, in case anyone out there is interested.",{"type":21,"tag":30,"props":516,"children":517},{},[518],{"type":27,"value":519},"I hope this could be useful to you!",{"type":21,"tag":521,"props":522,"children":523},"style",{},[524],{"type":27,"value":525},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":159,"depth":159,"links":527},[528,529],{"id":59,"depth":159,"text":62},{"id":333,"depth":159,"text":336},"markdown","content:blog:2024:2024-08-08-note-on-graphein.md","content","blog/2024/2024-08-08-note-on-graphein.md","md",1725647973781]